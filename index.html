<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>A Special Message</title>
  <meta name="description" content="A romantic surprise video reveal for someone special." />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Parisienne&family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#2a0d1f;
      --bg2:#4b0c27;
      --accent:#ff5fa2;
      --accent2:#ffd6e8;
      --glass-stroke: rgba(255,255,255,0.18);
      --text:#ffeef7;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Poppins, system-ui;
      color:var(--text);
      background: radial-gradient(1000px 700px at 20% -20%, #ff9abb44 0%, transparent 70%),
                  radial-gradient(900px 700px at 110% 120%, #f0629255 0%, transparent 70%),
                  linear-gradient(160deg, var(--bg1), var(--bg2));
      display:grid;
      place-items:center;
      overflow:hidden;
    }

    /* floating animated hearts */
    .float-heart{ position:fixed; bottom:-100px; font-size:32px; opacity:0.8; pointer-events:none; z-index:0; }
    .float-heart.animate{ animation: floatUp linear infinite; }
    .float-heart.animate:nth-child(1){ left:6%; animation-duration:12s; animation-delay:0s }
    .float-heart.animate:nth-child(2){ left:22%; animation-duration:15s; animation-delay:3s }
    .float-heart.animate:nth-child(3){ left:46%; animation-duration:18s; animation-delay:5s }
    .float-heart.animate:nth-child(4){ left:72%; animation-duration:14s; animation-delay:2s }
    .float-heart.animate:nth-child(5){ left:86%; animation-duration:20s; animation-delay:6s }
    @keyframes floatUp{
      0%{ transform: translateY(0) scale(.9); opacity:0 }
      20%{ opacity:.9 }
      50%{ transform: translateY(-50vh) scale(1.05) }
      80%{ opacity:.7 }
      100%{ transform: translateY(-110vh) scale(.95); opacity:0 }
    }

    .container{position:relative; z-index:5; display:flex; align-items:center; justify-content:center;}

    /* Romantic Heart Box */
    .card-heart{
      --size: 300px;
      width:var(--size); height:var(--size);
      position:relative;
      transform: rotate(-45deg);
      cursor:pointer;
      border:none;
      background:transparent;
      transition: transform .3s ease, filter .3s ease;
    }
    .card-heart::before, .card-heart::after{
      content:""; position:absolute; width:62%; height:62%;
      background: radial-gradient(circle at 30% 30%, var(--accent), var(--accent2));
      border-radius:50%;
      box-shadow:0 10px 30px rgba(255,95,162,.25);
    }
    .card-heart::before{ left:18%; top:0 }
    .card-heart::after{ right:18%; top:0 }

    .card-core{
      position:absolute; width:65%; height:65%;
      background: linear-gradient(145deg, rgba(255,95,162,0.95), rgba(255,160,200,0.7));
      border-radius:20px;
      box-shadow: inset 0 2px 4px rgba(255,255,255,.3), 0 12px 25px rgba(0,0,0,.35);
      display:flex; align-items:center; justify-content:center;
      padding:20px; transform: rotate(45deg);
    }

    .card-body{ transform: rotate(-45deg); text-align:center; color:#fff; width:100%; }
    .tag{ display:inline-flex; align-items:center; gap:6px; margin-bottom:10px; padding:6px 12px; border-radius:999px; font-size:12px; letter-spacing:.3px; background: rgba(255,255,255,0.12); border:1px solid rgba(255,255,255,0.2); text-transform:uppercase }
    .tag-dot{width:8px; height:8px; border-radius:50%; background:var(--accent); box-shadow:0 0 8px var(--accent)}
    h1{ font-family:'Parisienne',cursive; font-size: clamp(28px, 6vw, 48px); margin:8px 0; color:#fff0f6; text-shadow:0 2px 6px rgba(0,0,0,.4)}
    p{ margin:0; opacity:.95; font-size:15px }
    .tap{ margin-top:10px; font-size:13px; opacity:.85; font-style:italic }

    .card-heart:hover{ transform: rotate(-45deg) scale(1.06); filter: drop-shadow(0 0 20px rgba(255,95,162,.6)); }
    .card-heart:active{ transform: rotate(-45deg) scale(.97) }

    /* glowing pulse */
    .pulse{ position:absolute; inset:-20%; border-radius:50%; background: radial-gradient(circle, rgba(255,95,162,.2), transparent 70%); filter: blur(25px); opacity:0; transition: opacity .3s ease }
    .card-heart:hover .pulse{ opacity:1 }

    /* Modal */
    .modal{ position:fixed; inset:0; display:none; place-items:center; padding:20px; z-index:40; }
    .modal.open{ display:grid; }
    .overlay{ position:absolute; inset:0; background: rgba(43,11,29,.85); backdrop-filter: blur(8px); }
    .modal-card{ position:relative; width:min(92vw, 920px); border-radius:20px; overflow:hidden; background: linear-gradient(180deg,#2c0f1c,#2a0816); border:1px solid var(--glass-stroke); box-shadow: 0 30px 120px rgba(0,0,0,.6); animation: pop .25s ease-out }
    @keyframes pop{ from{ transform: scale(.96); opacity:0 } to{ transform: scale(1); opacity:1 } }
    .modal-header{ display:flex; justify-content:space-between; align-items:center; padding:12px 16px; border-bottom:1px solid rgba(255,255,255,.06); background: rgba(255,95,162,.1); }
    .title{ font-family:'Parisienne',cursive; font-size:24px; color:#ffe6f0 }
    .close{ appearance:none; border:0; cursor:pointer; background:transparent; color:var(--text); padding:8px 12px; border-radius:10px; font-weight:600; font-size:14px; border:1px solid rgba(255,255,255,.15); opacity:.9 }
    .close:hover{ background: rgba(255,255,255,.08) }
    .video-wrap{ background:black }
    video{ display:block; width:100%; height:auto; max-height:78vh; object-fit:contain; background:black }
    .caption{ padding:12px 16px; font-size:15px; opacity:.88; border-top:1px solid rgba(255,255,255,.06); font-style:italic }

    /* footer */
    .footer{ position:fixed; bottom:14px; left:50%; transform:translateX(-50%); font-size:12px; opacity:.6; z-index:50 }
    .footer a{ color: var(--accent); text-decoration:none }

    @media (max-width:480px){
      .card-heart{ --size:240px }
      h1{ font-size:24px }
    }
  </style>
</head>
<body>
  <!-- floating hearts -->
  <div class="float-heart animate">üíñ</div>
  <div class="float-heart animate">üíï</div>
  <div class="float-heart animate">üíû</div>
  <div class="float-heart animate">üíò</div>
  <div class="float-heart animate">üíì</div>

  <main class="container" id="mainContent">
    <button id="revealBtn" class="card-heart" aria-haspopup="dialog" aria-controls="messageModal" aria-label="Open a special romantic message">
      <span class="pulse"></span>
      <div class="card-core">
        <div class="card-body">
          <div class="tag"><span class="tag-dot"></span> Love Note</div>
          <h1>A Special Message</h1>
          <p>Click to open my heart üíñ</p>
          <div class="tap">Bare Miminmum</div>
        </div>
      </div>
    </button>
  </main>

  <div id="messageModal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
    <div class="overlay" data-close></div>
    <div class="modal-card" role="document">
      <header class="modal-header">
        <div id="modalTitle" class="title">For My Love ‚ù§Ô∏è</div>
        <button class="close" type="button" data-close id="closeBtn">Close ‚úï</button>
      </header>
      <div class="video-wrap">
        <video id="specialVideo" playsinline controls preload="metadata" poster="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=1887&auto=format&fit=crop">
          <source src="assets/VideoAI.mp4" type="video/mp4" />
          <source src="assets/VideoAI.webm" type="video/webm" />
          Sorry, your browser doesn‚Äôt support embedded videos.
        </video>
      </div>
      <div class="caption" id="videoCaption">Turn up the volume and let my love play for you üé∂üíï</div>
    </div>
  </div>

  <div class="footer">Made for you Harshita üíï ‚Äî <a href="#" id="replay">reset</a></div>

  <script>
    const revealBtn = document.getElementById('revealBtn');
    const modal = document.getElementById('messageModal');
    const video = document.getElementById('specialVideo');
    const replay = document.getElementById('replay');
    const closeBtn = document.getElementById('closeBtn');
    const mainContent = document.getElementById('mainContent');
    const videoCaption = document.getElementById('videoCaption');

    let lastFocus = null;

    function lockScroll(){ document.documentElement.style.overflow = 'hidden'; }
    function unlockScroll(){ document.documentElement.style.overflow = ''; }

    function openModal(){
      lastFocus = document.activeElement;
      modal.classList.add('open');
      mainContent.setAttribute('aria-hidden','true');
      lockScroll();
      if(closeBtn) closeBtn.focus();
      video.currentTime=0;
      video.play().catch(()=>{});
    }
    function closeModal(){
      modal.classList.remove('open');
      mainContent.removeAttribute('aria-hidden');
      unlockScroll();
      try{video.pause();video.currentTime=0;}catch(e){}
      if(lastFocus && typeof lastFocus.focus==='function') lastFocus.focus();
    }

    video.addEventListener('error',()=>{videoCaption.textContent='Video failed to load. Please ensure you uploaded assets/VideoAI.mp4 to the repository.'});
    revealBtn.addEventListener('click',openModal);
    modal.addEventListener('click',(e)=>{if(e.target.hasAttribute('data-close')) closeModal();});
    document.addEventListener('keydown',(e)=>{if((e.key==='Escape'||e.key==='Esc')&&modal.classList.contains('open')) closeModal();});
    replay.addEventListener('click',(e)=>{e.preventDefault();closeModal();});

    const params=new URLSearchParams(location.search);
    if(params.get('open')==='1'||location.hash==='#open'){setTimeout(openModal,200);}

    document.addEventListener('focus',function(event){
      if(modal.classList.contains('open')){
        if(!modal.contains(event.target)){
          event.stopPropagation();
          if(closeBtn) closeBtn.focus();
        }
      }
    },true);

    console.log('Special Message page loaded ‚Äî ensure assets/VideoAI.mp4 exists for playback.');
  </script>
</body>
</html>
